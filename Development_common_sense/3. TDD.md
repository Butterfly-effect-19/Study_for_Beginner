# TDD(Test-driven development)란?

"테스트 주도 개발"이라고 해석되는 이 TDD는 소프트웨어 개발 방법론 중 하나이다. 

TDD는 짧은 개발 사이클을 반복하는 개발 방법론으로, 테스트가 중심이 되어 개발을 진행하게 된다.

 

![TDD(Test-driven%20development)%E1%84%85%E1%85%A1%E1%86%AB%20f34b9939a31843d090753aacd33ffad9/Untitled.png](TDD(Test-driven%20development)%E1%84%85%E1%85%A1%E1%86%AB%20f34b9939a31843d090753aacd33ffad9/Untitled.png)

기존의 개발 프로세스가 위와 같다면, TDD의 프로세스는 아래와 같이 진행된다.  **테스트를 먼저 만들고 테스트를 통과하기 위한 것을 코딩하는 것**, TDD는 설계가 끝나는 즉시, 혹은 함께 해당 개발 모듈의 테스트를 작성한다. 즉, 테스트 코드가 실제 설계에 굉장히 관여를 한다는 점이다. 한눈에 봐도 굉장히 방법론적으로 차이를 보인다.

# TDD의 특징

- 설계는 Top-Down, 구현은 Bottom-Up

    테스트 코드를 먼저 작성한다는 것은 아직도 구현도 되지 않는 설계도가 어떻게 동작할지 미리 전부 예상해야한다는 소리와 같다. 이를 통해 우리는 Top-Down 방식으로 프로젝트의 설계 및 시나리오를 잡을 수 있고, 그 후에 필요한 기능을 차례차례 Bottom-Up으로 구현하는 것으로 프로젝트를 수행해가나는 셈이다. 

- 적응할 수 있는 객체지향적인 코드를 개발한다

    테스트 코드를 먼저 작성한다면 좀 더 명확한 기능과 구조를 설계할 수 있다. 이에 따라서 많은 코드 수정에도 테스트 코드가 지속적으로 재사용되게 구축할 필요가 있기 때문에 기본적으로 객체지향 코드가 작성된다. 

- 어차피 발견될 결함이라면, 최대한 일찍 발견해야 한다

    설계 때, 미처 생각하지 못한 점들이 논리적인 테스트 코드를 작성하며, 수 많은 수정사항이 생겨날 수 있다. 자신의 설계와 시나리오를 실제 테스트로 바로 대입해봄으로써, 코드의 구조를 수정하게 되고, 이를 통해 미연에 발견하게 될 결함들을 방지할 수 있게 된다.

    이는 곧 설계 수정, 디버깅, 유지보수 비용의 단축으로 이어질 것이다.

- 처음엔 바보 같은 코드를 짜라

    처음 TDD를 기반으로 구현할 때, 우리는 철저하게 테스트 코드가 정상적으로 실행하는 것에 초점을 맞춰서 개발을 진행한다. 처음 모듈을 구현하는 도중에 다소 비효율적이거나 구조적이지 않은 좋지 못한 코드를 짜더라도 일단 테스트를 충족시킬 수 있도록 빠르게 구현하는 것에 초점을 맞춘다. 그 후 테스트를 통과하면 테스트 케이스를 보험으로 두고 리팩토링을 할 수 있다.

- 테스트 시나리오를 구성하자

    Griven - When - Then Pattern에 맞추어 테스트 코드의 시나리오를 구성한다. 테스트 코드 작성시, 기대 행위에 대해 명확히 정의하고, 각각의 대해서 시나리오를 작성하여 수행해야한다.

- 유닛테스트가 곧 문서

    모듈의 시나리오와 테스트에 대해 따로 자세하게 문서를 작성할 필요는 없다. 코드는 언제나 수정되고, 그에 따라서 매번 수정해야 하기 때문이다. 테스트 코드는 자체가 모듈의 사용법 및 갖가지 예외 등을 담고 있기 때문에 좋은 샘플 코드이자, 해당 모듈의 문서로 볼 수 있다.

# TDD를 적용한 사례

- 생년월일을 입력받으면 현재 나이를 출력하는 프로그램
    1. 처음에는 간단한 것으로 목표를 정한다. (태어난 해와 올해의 연도를 입력) 

           2015, 2018 -> (만)3살 우선 이것을 만들겠다는 생각을 한다.

    1. 만들기도 전에 만든 후에 무엇을 테스트할지를 설계한다.
    2015, 2018를 입력하면 2가 나오는 테스트 프로그램(장차 만들 프로그램을 테스트할 코드)를 만든다.
    2. 그 다음에 그 테스트를 통과할 프로그램(1.을 목표로 작성한 코드)를 만든다.
    올해의 연도 - 태어난 해
    2018 - 2015
    3. 테스트 프로그램으로 이 프로그램(3.에 해당하는 코드)을 실행한다.
    통과했으면 새로운 테스트를 추가한다.

        이번에는 생월을 추가했을 때 계산하는 프로그램

    4. 위와 같은 작업을 반복한다.

## 출처

- [https://m.blog.naver.com/shino1025/222173766467](https://m.blog.naver.com/shino1025/222173766467)
- [https://gmlwjd9405.github.io/2018/06/03/agile-tdd.html](https://gmlwjd9405.github.io/2018/06/03/agile-tdd.html)
